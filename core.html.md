# agora_api


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L20"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora

>  Agora (api_key:str=None,
>             base_url:str='https://zues.searchagora.com/api/v1')

*Client for interacting with the Agora API*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>api_key</td>
<td>str</td>
<td>None</td>
<td>The API key for the Agora account</td>
</tr>
<tr>
<td>base_url</td>
<td>str</td>
<td>https://zues.searchagora.com/api/v1</td>
<td>The Agora API base URL</td>
</tr>
</tbody>
</table>

``` python
a = Agora()
```

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L37"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.search_trial

>  Agora.search_trial (query:str, price_min:int=0, price_max:int=None,
>                          sort:str=None, order:str=None)

\*Search for products using the trial endpoint.

Args: query (str): Search query text price_min (int, optional): Minimum
price for filtering products (default: 0) price_max (int, optional):
Maximum price for filtering products sort (str, optional): Sorting
field: price:relevance order (str, optional): Sorting order: asc or desc

Returns: dict: Search results with products matching the query

Example: search_trial(“shoes”, \[100, 1000\], “price:relevance”,
“desc”)\*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>query</td>
<td>str</td>
<td></td>
<td>Search query text</td>
</tr>
<tr>
<td>price_min</td>
<td>int</td>
<td>0</td>
<td>Minimum price for filtering products</td>
</tr>
<tr>
<td>price_max</td>
<td>int</td>
<td>None</td>
<td>Maximum price for filtering products</td>
</tr>
<tr>
<td>sort</td>
<td>str</td>
<td>None</td>
<td>Sorting field: price:relevance</td>
</tr>
<tr>
<td>order</td>
<td>str</td>
<td>None</td>
<td>Sorting order: asc or desc</td>
</tr>
</tbody>
</table>

``` python
r = a.search_trial(sort= 'price:relevance', order='asc',query='glasses', price_max=1000)
p = r.json()['Products'][0]
p
```

    {'name': 'Kaleidoscope Glasses',
     'storeName': 'Costumes, Etc...',
     'brand': 'Western Fashion',
     '_id': '677df599770698bbe867b39f',
     'slug': 'copy-of-kaleidscope-goggles-6b527f77-bd25-4846-ad2b-344fd2cc95ef-1736308121269',
     'price': 15,
     'isVerified': False,
     'isBoosted': False,
     'source': 'shopify',
     'images': ['https://cdn.shopify.com/s/files/1/0292/5599/1401/products/69132-4-1_1.jpg?v=1625761508'],
     'url': 'https://costumesetc.com/products/copy-of-kaleidscope-goggles',
     'agoraScore': 81,
     'priceHistory': [{'price': 15,
       'date': '2025-01-08T03:48:41.347Z',
       '_id': '677df5a3770698bbe867bcdc'}],
     'averageRating': 4.5,
     'discountVal': 0}

``` python
json.dumps(p)
```

    '{"name": "Headphones", "storeName": "The Baby Cubby", "brand": "Tonies", "_id": "6674b4aab49534201189688d", "slug": "tonies-headphones-08c2c9a1-b3af-4883-aebf-2a283a1fc0fd-1718924458056", "price": 29.99, "isVerified": false, "isBoosted": false, "source": "shopify", "images": ["https://cdn.shopify.com/s/files/1/0467/0649/1556/products/Heaphones-PDP-Assets-Gray-1.jpg?v=1637054130", "https://cdn.shopify.com/s/files/1/0467/0649/1556/products/Heaphones-PDP-Assets-Gray-2.jpg?v=1637054132", "https://cdn.shopify.com/s/files/1/0467/0649/1556/products/Heaphones-PDP-Assets-Gray-3.jpg?v=1637054134", "https://cdn.shopify.com/s/files/1/0467/0649/1556/products/blue_8b41cdb7-1f12-4b3d-b43c-8aac607377f3.jpg?v=1637336366", "https://cdn.shopify.com/s/files/1/0467/0649/1556/products/Heaphones-PDP-Assets-Pink-1.jpg?v=1637336366", "https://cdn.shopify.com/s/files/1/0467/0649/1556/products/Reddd.jpg?v=1637336366"], "url": "https://babycubby.com/products/tonies-headphones", "agoraScore": 92, "priceHistory": [{"price": 29.99, "date": "2024-06-20T23:24:59.057Z", "_id": "6713d5706ca0a1804a53068e"}], "discountVal": 0}'

## Methods

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L87"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.text_search

>  Agora.text_search (query:str, count:int=20, page:int=1, price_min:int=0,
>                         price_max:int=None, sort:str=None, order:str=None,
>                         image_id:str=None)

\*Search for products with full functionality.

Args: query (str): Search query text count (int, optional): Number of
products per page (default: 20, max: 250) page (int, optional): Page
number for pagination (default: 1) price_min (int, optional): Minimum
price for filtering products (default: 0) price_max (int, optional):
Maximum price for filtering products sort (str, optional): Sorting
field: price:relevance order (str, optional): Sorting order: asc or desc
image_id (str, optional): Image search identifier

Returns: dict: Search results with products matching the query

Example: text_search(“red shoes”, count=10, page=1, price_min=50,
price_max=200, sort=“price”, order=“asc”)\*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>query</td>
<td>str</td>
<td></td>
<td>Search query text</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>20</td>
<td>Number of products per page (default: 20, max: 250)</td>
</tr>
<tr>
<td>page</td>
<td>int</td>
<td>1</td>
<td>Page number for pagination (default: 1)</td>
</tr>
<tr>
<td>price_min</td>
<td>int</td>
<td>0</td>
<td>Minimum price for filtering products</td>
</tr>
<tr>
<td>price_max</td>
<td>int</td>
<td>None</td>
<td>Maximum price for filtering products</td>
</tr>
<tr>
<td>sort</td>
<td>str</td>
<td>None</td>
<td>Sorting field: price:relevance</td>
</tr>
<tr>
<td>order</td>
<td>str</td>
<td>None</td>
<td>Sorting order: asc or desc</td>
</tr>
<tr>
<td>image_id</td>
<td>str</td>
<td>None</td>
<td>Image search identifier</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L132"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.get_product_detail

>  Agora.get_product_detail (slug:str)

\*Retrieve detailed information about a specific product.

Args: slug (str): The unique identifier of the product to retrieve

Returns: dict: Detailed information about the requested product

Example:
agora.get_product_detail(“calzuro-without-pistachio-eb12f468-48a2-48af-9f5e-3fda5f6c135c-1708446961787”)\*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>slug</td>
<td>str</td>
<td>The unique identifier of the product to retrieve</td>
</tr>
</tbody>
</table>

``` python
# get_product_detail(token, p.slug)
```

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L155"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.create_cart

>  Agora.create_cart (custom_user_id:str=None, items:List[Dict]=None)

\*Create a new cart for a user.

Args: custom_user_id (str, optional): Unique identifier for the user
items (list, optional): List of items to add to the cart Each item
should be a dict with: - variantId (int): Variant ID of the product -
product (int/str): Product ID - quantity (int): Quantity of the product

Returns: dict: Response with cart creation status

Example: agora.create_cart(“user123”, \[ {“variantId”: 123, “product”:
“678f71a9356a36f784ee2e88”, “quantity”: 1} \])\*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>custom_user_id</td>
<td>str</td>
<td>None</td>
<td>Unique identifier for the user</td>
</tr>
<tr>
<td>items</td>
<td>List</td>
<td>None</td>
<td>List of items to add to the cart</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L192"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.add_to_cart

>  Agora.add_to_cart (product_id:str, variant_id:str, quantity:int=1,
>                         custom_user_id:str=None)

\*Add a product to an existing cart.

Args: product_id (str/int): ID of the product to add variant_id
(str/int): Variant ID of the product quantity (int, optional): Quantity
of the product (default: 1) custom_user_id (str, optional): Unique
identifier for the user

Returns: dict: Response with cart update status

Example: agora.add_to_cart(“678f71a9356a36f784ee2e88”, “2061038485517”,
2, “user123”)\*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>product_id</td>
<td>str</td>
<td></td>
<td>ID of the product to add</td>
</tr>
<tr>
<td>variant_id</td>
<td>str</td>
<td></td>
<td>Variant ID of the product</td>
</tr>
<tr>
<td>quantity</td>
<td>int</td>
<td>1</td>
<td>Quantity of the product (default: 1)</td>
</tr>
<tr>
<td>custom_user_id</td>
<td>str</td>
<td>None</td>
<td>Unique identifier for the user</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L231"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.create_order

>  Agora.create_order (encrypted_payment_info:str,
>                          shipping_address:Dict[str,str],
>                          current_user:Dict[str,str])

\*Create a new order from cart items.

Args: encrypted_payment_info (str): Encrypted payment information
shipping_address (dict): Dictionary containing shipping address
details: - addressFirst (str): Street address - city (str): City name -
state (str): State/province - country (str): Country name - addressName
(str): Name associated with address - zipCode (str): Postal/ZIP code
current_user (dict): Dictionary containing user information: - firstname
(str): User’s first name - lastname (str): User’s last name - email
(str): User’s email address - \_id (str): User’s ID

Returns: dict: Order creation response with success status and order ID

Example: agora.create_order( “encrypted_data”, { “addressFirst”: “123
Main St”, “city”: “New York”, “state”: “NY”, “country”: “US”,
“addressName”: “Home”, “zipCode”: “10001” }, { “firstname”: “John”,
“lastname”: “Doe”, “email”: “john@example.com”, “\_id”: “user123” } )\*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>encrypted_payment_info</td>
<td>str</td>
<td>Encrypted payment information</td>
</tr>
<tr>
<td>shipping_address</td>
<td>Dict</td>
<td>Dictionary containing shipping address details</td>
</tr>
<tr>
<td>current_user</td>
<td>Dict</td>
<td>Dictionary containing user information</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L287"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.track_order

>  Agora.track_order (order_id:str)

\*Track an existing order by its ID.

Args: order_id (str): Unique identifier of the order to track

Returns: dict: Detailed order information including items, status, and
shipping details

Example: agora.track_order(“67c8577b3e370f07d12c7722”)\*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>str</td>
<td>Unique identifier of the order to track</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L306"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.refresh_token

>  Agora.refresh_token (refresh_token_str:str)

\*Refresh API key and token by providing a valid refresh token.

Args: refresh_token_str (str): The refresh token to validate and
retrieve a new API key and refresh token

Returns: dict: Object containing new API key, refresh token, and
expiration time with the following structure: { “status”: “success”,
“data”: { “apiKey”: “…”, “refreshToken”: “…”, “expiresAt”: “…” } }

Raises: ValueError: If the refresh token is invalid or missing\*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>refresh_token_str</td>
<td>str</td>
<td>The refresh token to validate</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L345"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.create_payment_intent

>  Agora.create_payment_intent (offer_id:str, amount:int, title:str,
>                                   description:str, currency:str='USD')

\*Create a payment intent for a product or cart.

Args: offer_id (str): Unique identifier for this offer (variant_id for
items, user_id for carts) amount (int): Payment amount in cents title
(str): Offer title description (str): Offer description currency (str,
optional): Payment currency (default: USD)

Returns: dict: Created payment options for product / cart.

Example: agora.create_payment_intent( “12345”, 1999, \# 19.99 USD in
cents title=“Altra Shoes”, description=“Altra Escalanta v4 running
shoes” )\*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>offer_id</td>
<td>str</td>
<td></td>
<td>Unique identifier for this offer (can be variant_id for items or
user_id for carts)</td>
</tr>
<tr>
<td>amount</td>
<td>int</td>
<td></td>
<td>Payment amount in cents</td>
</tr>
<tr>
<td>title</td>
<td>str</td>
<td></td>
<td>Offer title</td>
</tr>
<tr>
<td>description</td>
<td>str</td>
<td></td>
<td>Offer description</td>
</tr>
<tr>
<td>currency</td>
<td>str</td>
<td>USD</td>
<td>Payment currency</td>
</tr>
</tbody>
</table>

``` python
# requires a FEWSATS_API_KEY environment variable
a.create_payment_intent( "12345", 1999,  title="Altra Shoes", description="Altra Escalanta v4 running shoes")
```

    {'offers': [{'offer_id': '12345',
       'amount': 1999,
       'currency': 'USD',
       'description': 'Altra Escalanta v4 running shoes',
       'title': 'Altra Shoes',
       'payment_methods': ['lightning', 'credit_card'],
       'type': 'one-off'}],
     'payment_context_token': '00ce3d89-8313-4e39-a5a1-e21e2feab3c8',
     'payment_request_url': 'https://api.fewsats.com/v0/l402/payment-request',
     'version': '0.2.2'}

``` python
data = {
  "title": "Eco-friendly Ball Point Pen",
  "amount": 22,
  "currency": "USD",
  "offer_id": "promotion-pen-22-cents",
  "description": "Promotion Gift Wholesale Cheap Eco-friendly Custom Logo Ball Point Pen"
}
a.create_payment_intent(**data)
```

    {'offers': [{'offer_id': 'promotion-pen-22-cents',
       'amount': 22,
       'currency': 'USD',
       'description': 'Promotion Gift Wholesale Cheap Eco-friendly Custom Logo Ball Point Pen',
       'title': 'Eco-friendly Ball Point Pen',
       'payment_methods': ['lightning', 'credit_card'],
       'type': 'one-off'}],
     'payment_context_token': '4ad5d7c8-4485-4166-81ae-356725d9ec9a',
     'payment_request_url': 'https://api.fewsats.com/v0/l402/payment-request',
     'version': '0.2.2'}

------------------------------------------------------------------------

<a
href="https://github.com/Fewsats/agora-l402/blob/main/agora_l402/core.py#L393"
target="_blank" style="float:right; font-size:smaller">source</a>

### Agora.as_tools

>  Agora.as_tools ()

*Return list of available tools for AI agents*
